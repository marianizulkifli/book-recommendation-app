package com.example.demo1;

import javafx.application.Application;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.*;
import javafx.scene.layout.*;
import javafx.scene.paint.Color;
import javafx.scene.text.Font;
import javafx.scene.text.FontWeight;
import javafx.stage.Stage;

public class FindBookByGenre extends Application {

    @Override
    public void start(Stage primaryStage) {
        primaryStage.setTitle("Find Book by Genre");

        // Root layout
        VBox root = new VBox(20);
        root.setPadding(new Insets(20));
        root.setAlignment(Pos.CENTER);
        root.setStyle("-fx-background-color: #9370DB;");

        // Title
        Label titleLabel = new Label("FIND BOOK BY GENRE");
        titleLabel.setFont(Font.font("Arial", FontWeight.BOLD, 15));
        titleLabel.setTextFill(Color.BLACK);

        // Search bar
        HBox searchBox = new HBox(10);
        searchBox.setAlignment(Pos.CENTER);
        searchBox.setStyle("-fx-background-color: #e9e1f9; -fx-background-radius: 10;");
        searchBox.setPadding(new Insets(10));

        TextField searchField = new TextField();
        searchField.setPromptText("Search for a genre");
        searchField.setStyle("-fx-background-color: #e9e1f9; -fx-background-radius: 10;");

        Button searchButton = new Button("üîç");
        searchButton.setStyle("-fx-background-color: transparent;");

        searchBox.getChildren().addAll(searchButton, searchField);

        // Genre list
        ObservableList<String> genres = FXCollections.observableArrayList(
                "Fantasy", "Science fiction", "Mystery", "Thriller", "Romance", "Historical fiction", "Horror"
        );

        ListView<String> genreList = new ListView<>(genres);
        genreList.setStyle("-fx-background-color: #e9e1f9; -fx-background-radius: 10;");

        // Add listener to the search field
        searchField.textProperty().addListener((observable, oldValue, newValue) -> {
            ObservableList<String> filteredGenres = FXCollections.observableArrayList();
            for (String genre : genres) {
                if (genre.toLowerCase().contains(newValue.toLowerCase())) {
                    filteredGenres.add(genre);
                }
            }
            genreList.setItems(filteredGenres);
        });

        // Buttons
        HBox buttonBox = new HBox(20);
        buttonBox.setAlignment(Pos.CENTER);

        Button homeButton = new Button("Home");
        Button viewButton = new Button("View");
        homeButton.setStyle("-fx-background-color: #e9e1f9; -fx-background-radius: 10;");
        viewButton.setStyle("-fx-background-color: #e9e1f9; -fx-background-radius: 10;");

        buttonBox.getChildren().addAll(homeButton, viewButton);

        // Add all elements to root
        root.getChildren().addAll(titleLabel, searchBox, genreList, buttonBox);

        // Set the scene
        Scene scene = new Scene(root, 300, 500);
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}
